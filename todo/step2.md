# ğŸš€ 2ë‹¨ê³„ - ê²½ë¡œ ì¡°íšŒ ê¸°ëŠ¥
## ìš”êµ¬ì‚¬í•­
- ìµœë‹¨ ê²½ë¡œ ì¡°íšŒ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°
- ìµœë‹¨ ê²½ë¡œ ì¡°íšŒ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°

### ìš”ì²­ / ì‘ë‹µ í¬ë§·
**Request**
```shell
HTTP/1.1 200 
Request method:	GET
Request URI:	http://localhost:55494/paths?source=1&target=6
Headers: 	Accept=application/json
		Content-Type=application/json; charset=UTF-8
```

**Response**
```shell
HTTP/1.1 200 
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sat, 09 May 2020 14:54:11 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "stations": [
        {
            "id": 5,
            "name": "ì–‘ì¬ì‹œë¯¼ì˜ìˆ²ì—­",
            "createdAt": "2020-05-09T23:54:12.007"
        },
        {
            "id": 4,
            "name": "ì–‘ì¬ì—­",
            "createdAt": "2020-05-09T23:54:11.995"
        },
        {
            "id": 1,
            "name": "ê°•ë‚¨ì—­",
            "createdAt": "2020-05-09T23:54:11.855"
        },
        {
            "id": 2,
            "name": "ì—­ì‚¼ì—­",
            "createdAt": "2020-05-09T23:54:11.876"
        },
        {
            "id": 3,
            "name": "ì„ ë¦‰ì—­",
            "createdAt": "2020-05-09T23:54:11.893"
        }
    ],
    "distance": 40
}
```

## íŒíŠ¸
### ìµœë‹¨ ê²½ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬
- jgrapht ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ë©´ ê°„í¸í•˜ê²Œ ìµœë‹¨ê±°ë¦¬ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŒ
- ì •ì (vertext)ê³¼ ê°„ì„ (edge), ê·¸ë¦¬ê³  ê°€ì¤‘ì¹˜ ê°œë…ì„ ì´ìš©
  - ì •ì : ì§€í•˜ì² ì—­(Station)
  - ê°„ì„ : ì§€í•˜ì² ì—­ ì—°ê²°ì •ë³´(Section)
  - ê°€ì¤‘ì¹˜: ê±°ë¦¬
- ìµœë‹¨ ê±°ë¦¬ ê¸°ì¤€ ì¡°íšŒ ì‹œ ê°€ì¤‘ì¹˜ë¥¼ `ê±°ë¦¬`ë¡œ ì„¤ì •
```java
@Test
public void getDijkstraShortestPath() {
    WeightedMultigraph<String, DefaultWeightedEdge> graph
            = new WeightedMultigraph(DefaultWeightedEdge.class);
    graph.addVertex("v1");
    graph.addVertex("v2");
    graph.addVertex("v3");
    graph.setEdgeWeight(graph.addEdge("v1", "v2"), 2);
    graph.setEdgeWeight(graph.addEdge("v2", "v3"), 2);
    graph.setEdgeWeight(graph.addEdge("v1", "v3"), 100);

    DijkstraShortestPath dijkstraShortestPath
            = new DijkstraShortestPath(graph);
    List<String> shortestPath 
            = dijkstraShortestPath.getPath("v3", "v1").getVertexList();

    assertThat(shortestPath.size()).isEqualTo(3);
}
```
[jgrapht graph-algorithms](https://jgrapht.org/guide/UserOverview#graph-algorithms)

### ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ í…ŒìŠ¤íŠ¸
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ êµ¬í˜„ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ì§€ ì•ŠìŒ**
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì§ì ‘ êµ¬í˜„í•˜ëŠ” ë¡œì§ì„ ê²€ì¦í•´ì•¼ í•¨
- ì§ì ‘ êµ¬í˜„í•˜ëŠ” ë¡œì§ ê²€ì¦ ì‹œ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶€ë¶„ì€ ì‹¤ì œ ê°ì²´ë¥¼ í™œìš©

### ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì³ ì˜ˆì‹œ
```java
@DisplayName("ì§€í•˜ì²  ê²½ë¡œ ì¡°íšŒ")
public class PathAcceptanceTest extends AcceptanceTest {
    private LineResponse ì‹ ë¶„ë‹¹ì„ ;
    private LineResponse ì´í˜¸ì„ ;
    private LineResponse ì‚¼í˜¸ì„ ;
    private StationResponse ê°•ë‚¨ì—­;
    private StationResponse ì–‘ì¬ì—­;
    private StationResponse êµëŒ€ì—­;
    private StationResponse ë‚¨ë¶€í„°ë¯¸ë„ì—­;

    /**
     * êµëŒ€ì—­    --- *2í˜¸ì„ * ---   ê°•ë‚¨ì—­
     * |                        |
     * *3í˜¸ì„ *                   *ì‹ ë¶„ë‹¹ì„ *
     * |                        |
     * ë‚¨ë¶€í„°ë¯¸ë„ì—­  --- *3í˜¸ì„ * ---   ì–‘ì¬
     */
    @BeforeEach
    public void setUp() {
        super.setUp();

        ê°•ë‚¨ì—­ = StationAcceptanceTest.ì§€í•˜ì² ì—­_ë“±ë¡ë˜ì–´_ìˆìŒ("ê°•ë‚¨ì—­").as(StationResponse.class);
        ì–‘ì¬ì—­ = StationAcceptanceTest.ì§€í•˜ì² ì—­_ë“±ë¡ë˜ì–´_ìˆìŒ("ì–‘ì¬ì—­").as(StationResponse.class);
        êµëŒ€ì—­ = StationAcceptanceTest.ì§€í•˜ì² ì—­_ë“±ë¡ë˜ì–´_ìˆìŒ("êµëŒ€ì—­").as(StationResponse.class);
        ë‚¨ë¶€í„°ë¯¸ë„ì—­ = StationAcceptanceTest.ì§€í•˜ì² ì—­_ë“±ë¡ë˜ì–´_ìˆìŒ("ë‚¨ë¶€í„°ë¯¸ë„ì—­").as(StationResponse.class);

        ì‹ ë¶„ë‹¹ì„  = ì§€í•˜ì² _ë…¸ì„ _ë“±ë¡ë˜ì–´_ìˆìŒ("ì‹ ë¶„ë‹¹ì„ ", "bg-red-600", ê°•ë‚¨ì—­, ì–‘ì¬ì—­, 10);
        ì´í˜¸ì„  = ì§€í•˜ì² _ë…¸ì„ _ë“±ë¡ë˜ì–´_ìˆìŒ("ì´í˜¸ì„ ", "bg-red-600", êµëŒ€ì—­, ê°•ë‚¨ì—­, 10);
        ì‚¼í˜¸ì„  = ì§€í•˜ì² _ë…¸ì„ _ë“±ë¡ë˜ì–´_ìˆìŒ("ì‚¼í˜¸ì„ ", "bg-red-600", êµëŒ€ì—­, ì–‘ì¬ì—­, 5);

        ì§€í•˜ì² _ë…¸ì„ ì—_ì§€í•˜ì² ì—­_ë“±ë¡ë˜ì–´_ìˆìŒ(ì‚¼í˜¸ì„ , êµëŒ€ì—­, ë‚¨ë¶€í„°ë¯¸ë„ì—­, 3);
    }
    ...
```

### ì˜ˆì™¸ ìƒí™© ì˜ˆì‹œ
- ì¶œë°œì—­ê³¼ ë„ì°©ì—­ì´ ê°™ì€ ê²½ìš°
- ì¶œë°œì—­ê³¼ ë„ì°©ì—­ì´ ì—°ê²°ì´ ë˜ì–´ ìˆì§€ ì•Šì€ ê²½ìš°
- ì¡´ì¬í•˜ì§€ ì•Šì€ ì¶œë°œì—­ì´ë‚˜ ë„ì°©ì—­ì„ ì¡°íšŒ í•  ê²½ìš°

### ë¯¸ì…˜ ìˆ˜í–‰ ìˆœì„œ
**ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ ì„±ê³µ ì‹œí‚¤ê¸°**
- mock ì„œë²„ì™€ dtoë¥¼ ì •ì˜í•˜ì—¬ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ ì„±ê³µ ì‹œí‚¤ê¸°

**ê¸°ëŠ¥ êµ¬í˜„**
> TDDì˜ ë°©í–¥ë³´ë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ êµ¬í˜„í•  ê¸°ëŠ¥ì„ ëª…ì„¸í•˜ëŠ”ê²ƒê³¼ ë¦¬íŒ©í„°ë§ì´ ë” ì¤‘ìš”í•©ë‹ˆë‹¤!
 
**Outside In ê²½ìš°**
- ì»¨íŠ¸ë¡¤ëŸ¬ ë ˆì´ì–´ êµ¬í˜„ ì´í›„ ì„œë¹„ìŠ¤ ë ˆì´ì–´ êµ¬í˜„ ì‹œ ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ ìš°ì„  ì‘ì„± í›„ ê¸°ëŠ¥ êµ¬í˜„
- ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ ë‚´ë¶€ì—ì„œ ë„ë©”ì¸ë“¤ê°„ì˜ ë¡œì§ì˜ íë¦„ì„ ê²€ì¦, ì´ ë•Œ ì‚¬ìš©ë˜ëŠ” ë„ë©”ì¸ì€ mock ê°ì²´ë¥¼ í™œìš©
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•œ ë¡œì§ì„ ê²€ì¦í•  ë•ŒëŠ” ê°€ê¸‰ì  ì‹¤ì œ ê°ì²´ë¥¼ í™œìš©
- Happy ì¼€ì´ìŠ¤ì— ëŒ€í•œ ë¶€ë¶„ë§Œ êµ¬í˜„( Side ì¼€ì´ìŠ¤ì— ëŒ€í•œ êµ¬í˜„ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì§„í–‰)

**Inside Out ê²½ìš°**
- ë„ë©”ì¸ ì„¤ê³„ í›„ ë„ë©”ì¸ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘ìœ¼ë¡œ ê¸°ëŠ¥ êµ¬í˜„ ì‹œì‘
- í•´ë‹¹ ë„ë©”ì¸ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ë„ë©”ì¸ì˜ ì—­í• ê³¼ ê²½ê³„ë¥¼ ì„¤ê³„
- ë„ë©”ì¸ì˜ êµ¬í˜„ì´ ëë‚˜ë©´ í•´ë‹¹ ë„ë©”ì¸ê³¼ ê´€ê³„ë¥¼ ë§ºëŠ” ê°ì²´ì— ëŒ€í•´ ê¸°ëŠ¥ êµ¬í˜„ ì‹œì‘
```text
ex) ê²½ë¡œ ì¡°íšŒë¥¼ ìˆ˜í–‰í•˜ëŠ” ë„ë©”ì¸ êµ¬í˜„ ì˜ˆì‹œ
  1. PathFinder ë¼ëŠ” í´ë˜ìŠ¤ ì‘ì„± í›„ ê²½ë¡œ ì¡°íšŒë¥¼ ìœ„í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±
  2. ê²½ë¡œ ì¡°íšŒ ë©”ì„œë“œì—ì„œ Lineì„ ì¸ìë¡œ ë°›ê³  ê·¸ ê²°ê³¼ë¡œ ì›í•˜ëŠ” ì‘ë‹µì„ ë¦¬í„´í•˜ë„ë¡ í…ŒìŠ¤íŠ¸ ì™„ì„±
  3. í…ŒìŠ¤íŠ¸ë¥¼ ì„±ê³µì‹œí‚¤ê¸° ìœ„í•´ JGraphì˜ ì‹¤ì œ ê°ì²´ë¥¼ í™œìš©(í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì•Œ í•„ìš”ê°€ ì—†ìŒ)
```
> ë‘ ë°©í–¥ì„±ì„ ëª¨ë‘ ì‚¬ìš©í•´ë³´ì‹œê³  í…ŒìŠ¤íŠ¸ê°€ í˜‘ë ¥ ê°ì²´ì˜ ì„¸ë¶€ êµ¬í˜„ì— ì˜ì¡´í•˜ëŠ” ê²½ìš°(ê°€ì§œ í˜‘ë ¥ ê°ì²´ ì‚¬ìš©)ì™€ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ í˜‘ë ¥ ê°ì²´ì™€ ë…ë¦½ì ì´ì§€ ëª»í•˜ê³  ë³€ê²½ì— ì˜í–¥ì„ ë°›ëŠ” ê²½ìš°(ì‹¤ì œ í˜‘ë ¥ ê°ì²´ ì‚¬ìš©)ë¥¼ ëª¨ë‘ ê²½í—˜í•´ë³´ì„¸ìš” :)

### ğŸ“š Todo List ğŸ“š
- [x] ë¦¬ë·° ì‚¬í•­ ë°˜ì˜
- [x] ìµœë‹¨ ê²½ë¡œ ì¡°íšŒ ì¸ìˆ˜í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°
  - [x] ì •ìƒì ì¸ ì¶œë°œ, ë„ì°©ì—­ì„ ê²½ë¡œì¡°íšŒí•˜ë©´ ìµœë‹¨ê±°ë¦¬ë¥¼ ì•Œë ¤ì¤€ë‹¤.
  - [x] ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šì€ ì¶œë°œ, ë„ì°©ì—­ì€ ê²½ë¡œì¡°íšŒ í•  ìˆ˜ ì—†ë‹¤.
  - [x] ì¶œë°œ, ë„ì°©ì—­ì´ ë™ì¼í•˜ë©´ ê²½ë¡œì¡°íšŒ í•  ìˆ˜ ì—†ë‹¤.
  - [x] ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì—­ì€ ê²½ë¡œì¡°íšŒ í•  ìˆ˜ ì—†ë‹¤.
- [x] ìµœë‹¨ ê²½ë¡œ ì¡°íšŒ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°
  - [x] PathController ë§Œë“¤ê¸°
  - [x] PathService ë§Œë“¤ê¸°
  - [x] PathResponse ë§Œë“¤ê¸°
